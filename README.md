# bp-sys-wpf
**注意事项：请务必把软件解压后的内容放在单独的文件夹内，如果造成数据丢失，后果自负**（更新器的原理是下载更新包“new_bpsys.7z”后删除目录下除了7z、Resource、new_bpsys.7z以外的全部文件然后解压更新包）

本软件禁止商用

## 软件简介：
本软件采用.Net 8.0框架编写，界面为WPF框架，由C#编写

当前版本使用的UI是IVL 2023秋季赛的全套BP UI

赛制为IVL 2023秋季赛的半全局BP BO5赛制

如需修改UI，可以等比例修改文件夹下的/Resource/gui/文件夹内的图片进行修改

本软件已在Github开源：[plfjy/bp-sys-wpf](https://github.com/PLFJY/bp-sys-wpf)

**[下载地址](https://plfjy.lanzouq.com/icsEH255s13a)**

## BP模块：

### 角色展示：
一个下拉组合框都可以输入角色名称的拼音首字母来检索，按下Tab键补全，同时Tab键也是将该框内的角色更新到前台界面的触发按键，**只有按下了Tab键对应的图片才会出现在前台界面** *（注：26号守卫的拼音首字母为bb即“邦邦”，是个特殊值，主要是为了自己使用方便）*，**正确操作的话对应的下拉框下方会显示对应角色的头像**

*关于Pick求生者预览图下方的数字键：这个是进入游戏后将选手与使用角色对应使用的，点击相应的数字就会把该位置的角色与按钮上数字对应的位置的角色位置进行互换*

每一回合结束可按下“重置“按钮重置当前角色选择，不会影响地图的BP以及比分系统的比分情况，全局禁选会自动记录到右边的“全局禁选记录”的位置，换边时会自动上屏

*关于Pick界面的全局禁选记录：这个是方便记录全局禁选情况而设定的，上方的是主场，下方的是客场，填写队名后外面的边框会显示为该队伍的名称。可以在选手选择完前两手角色时在右边记录上这局的前两手选择,这个会与左边的“全局禁选”联动，单纯记录不会影响当前对局全局禁选的选择，在换边后才会自动填充求生者所在队伍的全局禁选记录到全局禁选中*

地图BP展示：这个就没什么好说的，就普遍理性而言不难理解

天赋展示：也不难懂，值得注意的是这个十字形的排列和游戏内的天赋位置是对应的，且根据从左到右，从上到下的顺序外框上的文字是按照Pick界面求生者的顺序决定的，显示的也是该求生者的角色名称
*由于目前（2024.8.2)只能在区域选择阶段看到求生者的天赋，故只有求生者天赋显示，后续会根据游戏的改变增加更多的显示*

队伍信息（包括队伍名称、队伍LOGO及选手ID）：唯一值得注意的是选手的名称直接填昵称就行，不用写队名，队名会在上传前台时自动合成，“当前上场选手”的求生者部分在Pick界面也有快捷入口，也能进行下面所说的换位操作

*关于队伍信息页面选手名称旁边的那些数字按钮：这个也是将选手与使用角色对应使用的，点击相应的数字就会把该位置的选手与按钮上数字对应的位置的选手位置进行互换*

#### 关于从Json文件导入队伍信息：
队伍信息导入示例文件是软件根目录下的TeamInfoExample.json，可以直接用记事本打开。
这样的文件可以直接导入队伍信息，队伍LOGO的uri可以是链接，也可以是文件在你电脑的具体位置，但是如果是后者的话需要像例如E:\\Desktop\\YS.png这样的双斜杠，不然目录不会被正确读取
*(提示：在线图床可以用Gitee)*

Ban位数量设定：这个也没啥好说的，开就是有这个Ban位，关就是没有这个Ban位，也就是Ban位会被锁住，此时对应的下拉框也会被禁用

过场画面：在后台键入的选择的角色也会被同步到过场画面中，这个界面中选手名字的顺序与角色的顺序与前台窗口一致


---


比分控制：

BP界面及游戏内比分：在这里，对应的对局结果是当局的对局结果，注意：需要先按下结果再换边，不然两边比分是错的，当然如果错了是可以使用手动面板进行修正的

比分在游戏内画面时的显示可以使用”游戏内比分“的两个窗口显示，一个是求生者方选手队伍的，一个是监管者方选手队伍的

我还开发了一个界面用于显示各个场次的比分情况，这个是完全独立于前面那个BP及游戏内比分的，所以需要单独操作，使用上显而易见我也不需要过多讲解

这个软件我会长期维护，有新版本的话启动软件时会提醒你，彼时可以前往右下角的关于界面进行更新

---

一些特殊的说明：这个软件的根目录结构分为下面几个文件夹：7z、pic、Resource

7z：里面的7zip简易版是用于解压更新包的，如果删除软件将无法使用自动更新

pic：里面存放了所有的角色立绘资源、地图展示资源，如果删除会导致软件使用时找不到对应图片而崩溃

Resource：里面还有一个gui文件夹，用于存放软件前台的UI，可以通过修改文件夹内的图片实现界面自定义，另外一个Config.ini文件可以修改前台界面的文字颜色，详细的文件里面有注释说明，颜色代码错误或者gui内图片文件缺失的话都会导致软件崩溃

总的来说改可以，都别乱删否则软件崩了不怪我





使用要求

请使用原生OBS对于本软件的前台界面进行展示

请使用OBS内的“窗口采集”且选择采集方式为”“BitBlt”，窗口匹配优先级为“窗口标题必须匹配”并取消勾选“显示鼠标指针”

对于源使用滤镜添加“色值”，关键颜色为“绿色”，相似度调整为刚刚好看不到绿色即可（多了会把要展示的也扣没了）

写在最后：建议安装“汉仪第五人格体”、“华康POP1体W5”、“得意黑”字体以达到更好的显示效果，不然会很丑，前两款字体可以在第五人格Wiki(dwrg.wiki)下方的“字体”处找到，后一款可在B站直接搜索到，由oooooohmygosh制作
